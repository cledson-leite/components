.container, .header, .nav, .main, .aside, .footer
  display: flex
  flex-wrap: wrap
  margin: 3px

.container
  background: red
  flex: 1 1 100% //grow shrink basis

.header
  background: blue
  flex: 1 1 100% 
  height: 100px

.nav
  background: green
  flex: 1 1 260px

.main
  background: yellow
  flex: 20 1 500px
  height: calc( 100vh -  224px )

.footer
  background: purple
  flex: 1 1 100% 
  height: 100px

@media only screen and (max-width: 780px)
  .main
    height: calc( 100vh - 330px )

  .nav
    height: 100px